{% extends 'base.html' %}

{% block title %}
  {{profile.user}}'s Profile
{% endblock %}

{% block body %}

<div class="row">
  <h1>{{ profile.user }}</h1>
  <img src="{{ profile.image.url }}" style="height: 200px; width: 200px; border: 1px solid black; border-radius: 50%;"/>
  <p>{{ profile.user.email }}</p>
  <p>Member since: {{ profile.user.date_joined }}</p>

  <div class="left-column">

    {% for post in posts reversed %}
    <div class="card">
      <h2>
        <a class="card-username" href="/profile/{{ post.user }}">{{ post.user }}</a>'s 
        <a class="card-title" href="/post/{{post.id}}">{{ post.title }}</a>
      </h2>
      <a href="/post/{{post.id}}">

        <p class="card-progress">{{post.progress}}</p>

        <h3 class="card-time">
          Time spent:
          {% if post.hours > 0 %}
            {{ post.hours }} hour{{ post.hours|pluralize }}
            {% if post.minutes > 0 %} and {{ post.minutes }} minute{{ post.minutes|pluralize }}{% endif %}
          {% else %}
            {{ post.minutes }} minute{{ post.minutes|pluralize }}
          {% endif %}
        </h3>

      </a>
    </div>
    <hr>
    {% endfor %}
</div>
</div>
{% endblock %}